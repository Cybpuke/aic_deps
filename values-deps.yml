# values-dependencies.yml
# Only:
# - NFS config for Airflow (from tutorial)
# - pullPolicy override to avoid re-pulling images
# Everything else uses chart defaults

mysql:
  image:
    pullPolicy: IfNotPresent

opensearch:
  imagePullPolicy: IfNotPresent

airflow:
  images:
    airflow:
      pullPolicy: IfNotPresent

  # ---- tutorial NFS config (unchanged) ----
  airflow:
    extraVolumeMounts:
      - mountPath: /airflow-logs
        name: nfs-airflow-logs
      - mountPath: /airflow-dags/dags
        name: nfs-airflow-dags
    extraVolumes:
      - name: nfs-airflow-logs
        persistentVolumeClaim:
          claimName: openmetadata-dependencies-logs
      - name: nfs-airflow-dags
        persistentVolumeClaim:
          claimName: openmetadata-dependencies-dags
    config:
      AIRFLOW__OPENMETADATA_AIRFLOW_APIS__DAG_GENERATED_CONFIGS: "/airflow-dags/dags"

  dags:
    path: /airflow-dags/dags
    persistence:
      enabled: false

  logs:
    path: /airflow-logs
    persistence:
      enabled: false
